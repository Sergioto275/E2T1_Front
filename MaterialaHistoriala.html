<!DOCTYPE html>
<html lang="eu">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Material Historiala</title>
  <link href="css/bootstrap/bootstrap.css" rel="stylesheet" />
  <link href="css/estilo.css" rel="stylesheet">
  <link href="https://cdn.rawgit.com/nizarmah/calendar-javascript-lib/master/calendarorganizer.min.css"
    rel="stylesheet" />
  <link href="css/bootstrap/icons/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="js/toastr/build/toastr.css" rel="stylesheet">
</head>

<body>

  <div id="app">
    <!--HEADER-->
    <header>
      <ul class="nav nav-pills bg-brown-strong">
        <div class="nav rounded-end border-white border-4 sip">
          <li class="nav-item">
            <a class="nav-link text-white" aria-current="page" href="Login.html">
              <i class="bi bi-box-arrow-left" alt="Logout"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="Home.html">
              <i class="bi bi-house" alt="Home"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" @click="retroceder()">
              <i class="bi bi-arrow-left" alt="Back"></i>
            </a>
          </li>
          <li class="nav-item me-3 mt-2">
            <a href="#" class="text-white" :class="{ 'fw-bold': currentLocale === 'eu' }"
              @click="changeLanguage('eu')">EU</a>
          </li>
          <li class="nav-item me-3 mt-2">
            <a href="#" class="text-white" :class="{ 'fw-bold': currentLocale === 'es' }"
              @click="changeLanguage('es')">ES</a>
          </li>
        </div>
      </ul>
    </header>

    <!-- TITLE -->
    <div class="container my-4">
      <div class="row">
        <div class="col text-center">
          <h1>{{ translations[currentLocale].menu.profesor.historial.material }}</h1>
        </div>
      </div>
    </div>

    <!-- DATE RANGE FILTER -->
    <div class="container my-4">
      <div class="row">
        <div class="col-md-6">
          <label for="startDate">{{ translations[currentLocale].default.fechIni }}</label>
          <input type="date" id="startDate" v-model="startDate" class="form-control" @change="filterByDate">
        </div>
        <div class="col-md-6">
          <label for="endDate">{{ translations[currentLocale].default.fechFin }}</label>
          <input type="date" id="endDate" v-model="endDate" class="form-control" @change="filterByDate">
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div v-for="material in filteredErreserbaArray" :key="material.id" class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">{{ material.produktu_izena }}</h5>
              <h6 class="card-subtitle mb-2 text-muted">{{ material.materiala_kodea }}</h6>
              <p class="card-text">
                <strong>Langilea:</strong> {{ material.langile_izena }} {{ material.abizenak }}<br>
                <strong>Hasiera Data:</strong> {{ material.hasiera_data }}<br>
                <strong>Amaiera Data:</strong> {{ material.amaiera_data ? material.amaiera_data : 'N/A' }}<br>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="js/translations.js"></script>
  <script src="js/bootstrap/jquery-3.7.1.js"></script>
  <script src="js/toastr/toastr.js"></script>
  <script src="js/MaterialHistoriala.js"></script>
  <script src="js/bootstrap/bootstrap.bundle.js"></script>
</body>

</html>
